<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مشغل القرآن الكريم - أصوات متعددة بدون إعلانات</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-color: #2c5f2d;
            --secondary-color: #97bc62;
            --accent-color: #f0f7da;
            --text-color: #333;
            --light-bg: #f9f9f9;
            --shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        
        body {
            background-color: var(--light-bg);
            color: var(--text-color);
            line-height: 1.6;
            background-image: linear-gradient(135deg, #f5f7fa 0%, #e4efe9 100%);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 20px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .no-ads-badge {
            display: inline-block;
            background-color: var(--accent-color);
            color: var(--primary-color);
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: bold;
            font-size: 1rem;
            margin-top: 10px;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.1);
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }
        
        @media (min-width: 992px) {
            .main-content {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .player-section, .reciters-section {
            background-color: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: var(--shadow);
        }
        
        .section-title {
            font-size: 1.8rem;
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-title i {
            color: var(--secondary-color);
        }
        
        .player-controls {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .sura-selector {
            margin-bottom: 15px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--primary-color);
        }
        
        select, .sura-buttons {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1rem;
            background-color: white;
            transition: all 0.3s;
        }
        
        select:focus {
            border-color: var(--secondary-color);
            outline: none;
        }
        
        .sura-buttons-container {
            max-height: 300px;
            overflow-y: auto;
            padding: 10px;
            border: 1px solid #eee;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        
        .sura-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
            gap: 10px;
            border: none;
            padding: 0;
            background: transparent;
        }
        
        .sura-btn {
            padding: 10px 5px;
            background-color: var(--accent-color);
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .sura-btn:hover {
            background-color: var(--secondary-color);
            color: white;
            transform: translateY(-3px);
        }
        
        .sura-btn.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .audio-player {
            width: 100%;
            margin-top: 20px;
            border-radius: 10px;
            overflow: hidden;
        }
        
        audio {
            width: 100%;
        }
        
        .custom-controls {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-top: 20px;
            padding: 15px;
            background-color: var(--accent-color);
            border-radius: 10px;
        }
        
        .control-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .control-btn:hover {
            background-color: var(--secondary-color);
            transform: scale(1.1);
        }
        
        .progress-container {
            flex-grow: 1;
        }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background-color: #ddd;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        
        .progress {
            height: 100%;
            background-color: var(--secondary-color);
            width: 0%;
            transition: width 0.1s;
        }
        
        .time-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
        }
        
        .reciters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }
        
        .reciter-card {
            background-color: var(--accent-color);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }
        
        .reciter-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .reciter-card.active {
            border-color: var(--primary-color);
            background-color: #e8f5e9;
        }
        
        .reciter-name {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary-color);
            margin-bottom: 5px;
        }
        
        .reciter-style {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        
        .current-playing {
            margin-top: 30px;
            padding: 20px;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border-radius: 10px;
            text-align: center;
        }
        
        .current-sura {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .current-reciter {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .feature-card {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 15px;
        }
        
        .feature-title {
            font-size: 1.3rem;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        footer {
            text-align: center;
            padding: 30px 0;
            margin-top: 50px;
            color: #666;
            border-top: 1px solid #ddd;
        }
        
        .warning {
            color: #d32f2f;
            background-color: #ffebee;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            font-weight: 600;
        }
        
        .loading {
            color: #2c5f2d;
            text-align: center;
            padding: 20px;
            font-size: 1.1rem;
        }
        
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .page-btn {
            padding: 8px 15px;
            background-color: var(--accent-color);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .page-btn.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .reciters-grid {
                grid-template-columns: 1fr;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-quran"></i> مشغل القرآن الكريم</h1>
            <p class="subtitle">استمع إلى القرآن الكريم بأصوات أشهر القراء بدون إعلانات مزعجة</p>
            <div class="no-ads-badge">
                <i class="fas fa-ad"></i>
            </div>
        </header>
        
        <div class="main-content">
            <section class="player-section">
                <h2 class="section-title"><i class="fas fa-play-circle"></i> مشغل القرآن</h2>
                
                <div class="player-controls">
                    <div class="sura-selector">
                        <label for="sura-select"><i class="fas fa-list-ol"></i> اختر السورة:</label>
                        <select id="sura-select">
                            <!-- سيتم ملؤها بواسطة JavaScript -->
                        </select>
                    </div>
                    
                    <div class="sura-buttons-container">
                        <div class="pagination" id="sura-pagination">
                            <!-- أزرار التصفح بين صفحات السور -->
                        </div>
                        <div class="sura-buttons" id="sura-buttons">
                            <!-- سيتم ملؤها بواسطة JavaScript -->
                        </div>
                    </div>
                    
                    <div class="audio-player">
                        <audio id="quran-audio" controls>
                            <!-- سيتم تعيين المصدر بواسطة JavaScript -->
                            متصفحك لا يدعم مشغل الصوت. يرجى استخدام متصفح حديث.
                        </audio>
                        
                        <div class="custom-controls">
                            <button class="control-btn" id="play-btn">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="control-btn" id="pause-btn">
                                <i class="fas fa-pause"></i>
                            </button>
                            <button class="control-btn" id="stop-btn">
                                <i class="fas fa-stop"></i>
                            </button>
                            
                            <div class="progress-container">
                                <div class="progress-bar">
                                    <div class="progress" id="progress"></div>
                                </div>
                                <div class="time-display">
                                    <span id="current-time">0:00</span>
                                    <span id="duration">0:00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="current-playing" id="current-playing">
                    <div class="current-sura">الفاتحة</div>
                    <div class="current-reciter">مشاري راشد العفاسي</div>
                    <div id="audio-loading" class="loading" style="display: none;">
                        <i class="fas fa-spinner fa-spin"></i> جار تحميل الصوت...
                    </div>
                </div>
            </section>
            
            <section class="reciters-section">
                <h2 class="section-title"><i class="fas fa-microphone-alt"></i> اختر القارئ</h2>
                <p style="margin-bottom: 20px; color: #666;">اختر من بين أشهر القراء بأصوات مختلفة ومميزة</p>
                
                <div class="reciters-grid" id="reciters-grid">
                    <!-- سيتم ملؤها بواسطة JavaScript -->
                </div>
                
                <div class="warning">
                    <i class="fas fa-exclamation-triangle"></i> 
                    تنبيه: جميع التسجيلات المعروضة هي روابط مباشرة من everyayah.com الموثوقة ولا تحتوي على إعلانات
                </div>
            </section>
        </div>
        
        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-adjust"></i>
                </div>
                <h3 class="feature-title">خالي من الإعلانات</h3>
                <p>لا توجد إعلانات مزعجة على الإطلاق، تجربة استماع نقية ومريحة.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-headphones-alt"></i>
                </div>
                <h3 class="feature-title">أصوات متعددة</h3>
                <p>مجموعة متنوعة من أشهر القراء لتختار الصوت الذي يناسبك.</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-mobile-alt"></i>
                </div>
                <h3 class="feature-title">متوافق مع جميع الأجهزة</h3>
                <p>يعمل على الهواتف الذكية والأجهزة اللوحية وأجهزة الكمبيوتر.</p>
            </div>
        </div>
        
        <footer>
            <p>مشغل القرآن الكريم &copy; <span id="current-year">2023</span> - صمم بحب لنشر القرآن الكريم</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">جميع الحقوق محفوظة للمواقع المزودة للتسجيلات القرآنية</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // تعيين السنة الحالية في التذييل
            document.getElementById('current-year').textContent = new Date().getFullYear();
            
            // بيانات القراء مع روابط everyayah.com
            const reciters = [
                { 
                    id: "Mishari_al-Afasy_64kbps", 
                    name: "مشاري راشد العفاسي", 
                    style: "حدر",
                    code: "Mishari_al-Afasy_64kbps"
                },
                { 
                    id: "AbdulSamad_64kbps", 
                    name: "عبد الباسط عبد الصمد", 
                    style: "ترتيل",
                    code: "AbdulSamad_64kbps"
                },
                { 
                    id: "Husary_64kbps", 
                    name: "محمود خليل الحصري", 
                    style: "ترتيل",
                    code: "Husary_64kbps"
                },
                { 
                    id: "Ghamadi_64kbps", 
                    name: "سعد الغامدي", 
                    style: "ترتيل",
                    code: "Ghamadi_64kbps"
                },
                { 
                    id: "Minshawi_64kbps", 
                    name: "محمد صديق المنشاوي", 
                    style: "تجويد",
                    code: "Minshawi_64kbps"
                },
                { 
                    id: "Basfar_64kbps", 
                    name: "عبد الله بصفر", 
                    style: "ترتيل",
                    code: "Basfar_64kbps"
                },
                { 
                    id: "Rifai_64kbps", 
                    name: "هاني الرفاعي", 
                    style: "تجويد",
                    code: "Rifai_64kbps"
                },
                { 
                    id: "al-Ajamy_64kbps", 
                    name: "أحمد العجمي", 
                    style: "ترتيل",
                    code: "al-Ajamy_64kbps"
                }
            ];
            
            // بيانات جميع سور القرآن (114 سورة)
            const suras = [
                { number: 1, name: "الفاتحة", verses: 7, page: 1 },
                { number: 2, name: "البقرة", verses: 286, page: 2 },
                { number: 3, name: "آل عمران", verses: 200, page: 50 },
                { number: 4, name: "النساء", verses: 176, page: 77 },
                { number: 5, name: "المائدة", verses: 120, page: 106 },
                { number: 6, name: "الأنعام", verses: 165, page: 128 },
                { number: 7, name: "الأعراف", verses: 206, page: 151 },
                { number: 8, name: "الأنفال", verses: 75, page: 177 },
                { number: 9, name: "التوبة", verses: 129, page: 187 },
                { number: 10, name: "يونس", verses: 109, page: 208 },
                { number: 11, name: "هود", verses: 123, page: 221 },
                { number: 12, name: "يوسف", verses: 111, page: 235 },
                { number: 13, name: "الرعد", verses: 43, page: 249 },
                { number: 14, name: "ابراهيم", verses: 52, page: 255 },
                { number: 15, name: "الحجر", verses: 99, page: 262 },
                { number: 16, name: "النحل", verses: 128, page: 267 },
                { number: 17, name: "الإسراء", verses: 111, page: 282 },
                { number: 18, name: "الكهف", verses: 110, page: 293 },
                { number: 19, name: "مريم", verses: 98, page: 305 },
                { number: 20, name: "طه", verses: 135, page: 312 },
                { number: 21, name: "الأنبياء", verses: 112, page: 322 },
                { number: 22, name: "الحج", verses: 78, page: 332 },
                { number: 23, name: "المؤمنون", verses: 118, page: 342 },
                { number: 24, name: "النور", verses: 64, page: 350 },
                { number: 25, name: "الفرقان", verses: 77, page: 359 },
                { number: 26, name: "الشعراء", verses: 227, page: 367 },
                { number: 27, name: "النمل", verses: 93, page: 377 },
                { number: 28, name: "القصص", verses: 88, page: 385 },
                { number: 29, name: "العنكبوت", verses: 69, page: 396 },
                { number: 30, name: "الروم", verses: 60, page: 404 },
                { number: 31, name: "لقمان", verses: 34, page: 411 },
                { number: 32, name: "السجدة", verses: 30, page: 415 },
                { number: 33, name: "الأحزاب", verses: 73, page: 418 },
                { number: 34, name: "سبإ", verses: 54, page: 428 },
                { number: 35, name: "فاطر", verses: 45, page: 434 },
                { number: 36, name: "يس", verses: 83, page: 440 },
                { number: 37, name: "الصافات", verses: 182, page: 446 },
                { number: 38, name: "ص", verses: 88, page: 453 },
                { number: 39, name: "الزمر", verses: 75, page: 458 },
                { number: 40, name: "غافر", verses: 85, page: 467 },
                { number: 41, name: "فصلت", verses: 54, page: 477 },
                { number: 42, name: "الشورى", verses: 53, page: 483 },
                { number: 43, name: "الزخرف", verses: 89, page: 489 },
                { number: 44, name: "الدخان", verses: 59, page: 496 },
                { number: 45, name: "الجاثية", verses: 37, page: 499 },
                { number: 46, name: "الأحقاف", verses: 35, page: 502 },
                { number: 47, name: "محمد", verses: 38, page: 507 },
                { number: 48, name: "الفتح", verses: 29, page: 511 },
                { number: 49, name: "الحجرات", verses: 18, page: 515 },
                { number: 50, name: "ق", verses: 45, page: 518 },
                { number: 51, name: "الذاريات", verses: 60, page: 520 },
                { number: 52, name: "الطور", verses: 49, page: 523 },
                { number: 53, name: "النجم", verses: 62, page: 526 },
                { number: 54, name: "القمر", verses: 55, page: 528 },
                { number: 55, name: "الرحمن", verses: 78, page: 531 },
                { number: 56, name: "الواقعة", verses: 96, page: 534 },
                { number: 57, name: "الحديد", verses: 29, page: 537 },
                { number: 58, name: "المجادلة", verses: 22, page: 542 },
                { number: 59, name: "الحشر", verses: 24, page: 545 },
                { number: 60, name: "الممتحنة", verses: 13, page: 549 },
                { number: 61, name: "الصف", verses: 14, page: 551 },
                { number: 62, name: "الجمعة", verses: 11, page: 553 },
                { number: 63, name: "المنافقون", verses: 11, page: 554 },
                { number: 64, name: "التغابن", verses: 18, page: 556 },
                { number: 65, name: "الطلاق", verses: 12, page: 558 },
                { number: 66, name: "التحريم", verses: 12, page: 560 },
                { number: 67, name: "الملك", verses: 30, page: 562 },
                { number: 68, name: "القلم", verses: 52, page: 564 },
                { number: 69, name: "الحاقة", verses: 52, page: 566 },
                { number: 70, name: "المعارج", verses: 44, page: 568 },
                { number: 71, name: "نوح", verses: 28, page: 570 },
                { number: 72, name: "الجن", verses: 28, page: 572 },
                { number: 73, name: "المزمل", verses: 20, page: 574 },
                { number: 74, name: "المدثر", verses: 56, page: 575 },
                { number: 75, name: "القيامة", verses: 40, page: 577 },
                { number: 76, name: "الانسان", verses: 31, page: 578 },
                { number: 77, name: "المرسلات", verses: 50, page: 580 },
                { number: 78, name: "النبأ", verses: 40, page: 582 },
                { number: 79, name: "النازعات", verses: 46, page: 583 },
                { number: 80, name: "عبس", verses: 42, page: 585 },
                { number: 81, name: "التكوير", verses: 29, page: 586 },
                { number: 82, name: "الانفطار", verses: 19, page: 587 },
                { number: 83, name: "المطففين", verses: 36, page: 587 },
                { number: 84, name: "الانشقاق", verses: 25, page: 589 },
                { number: 85, name: "البروج", verses: 22, page: 590 },
                { number: 86, name: "الطارق", verses: 17, page: 591 },
                { number: 87, name: "الأعلى", verses: 19, page: 591 },
                { number: 88, name: "الغاشية", verses: 26, page: 592 },
                { number: 89, name: "الفجر", verses: 30, page: 593 },
                { number: 90, name: "البلد", verses: 20, page: 594 },
                { number: 91, name: "الشمس", verses: 15, page: 595 },
                { number: 92, name: "الليل", verses: 21, page: 595 },
                { number: 93, name: "الضحى", verses: 11, page: 596 },
                { number: 94, name: "الشرح", verses: 8, page: 596 },
                { number: 95, name: "التين", verses: 8, page: 597 },
                { number: 96, name: "العلق", verses: 19, page: 597 },
                { number: 97, name: "القدر", verses: 5, page: 598 },
                { number: 98, name: "البينة", verses: 8, page: 598 },
                { number: 99, name: "الزلزلة", verses: 8, page: 599 },
                { number: 100, name: "العاديات", verses: 11, page: 599 },
                { number: 101, name: "القارعة", verses: 11, page: 600 },
                { number: 102, name: "التكاثر", verses: 8, page: 600 },
                { number: 103, name: "العصر", verses: 3, page: 601 },
                { number: 104, name: "الهمزة", verses: 9, page: 601 },
                { number: 105, name: "الفيل", verses: 5, page: 601 },
                { number: 106, name: "قريش", verses: 4, page: 602 },
                { number: 107, name: "الماعون", verses: 7, page: 602 },
                { number: 108, name: "الكوثر", verses: 3, page: 602 },
                { number: 109, name: "الكافرون", verses: 6, page: 603 },
                { number: 110, name: "النصر", verses: 3, page: 603 },
                { number: 111, name: "المسد", verses: 5, page: 603 },
                { number: 112, name: "الإخلاص", verses: 4, page: 604 },
                { number: 113, name: "الفلق", verses: 5, page: 604 },
                { number: 114, name: "الناس", verses: 6, page: 604 }
            ];
            
            // عناصر DOM
            const audioPlayer = document.getElementById('quran-audio');
            const playBtn = document.getElementById('play-btn');
            const pauseBtn = document.getElementById('pause-btn');
            const stopBtn = document.getElementById('stop-btn');
            const progressBar = document.getElementById('progress');
            const currentTimeDisplay = document.getElementById('current-time');
            const durationDisplay = document.getElementById('duration');
            const suraSelect = document.getElementById('sura-select');
            const suraButtonsContainer = document.getElementById('sura-buttons');
            const suraPagination = document.getElementById('sura-pagination');
            const recitersGrid = document.getElementById('reciters-grid');
            const currentPlayingElement = document.getElementById('current-playing');
            const audioLoadingElement = document.getElementById('audio-loading');
            
            // المتغيرات الحالية
            let currentReciter = reciters[0];
            let currentSura = suras[0];
            let currentPage = 1;
            const itemsPerPage = 20;
            const totalPages = Math.ceil(suras.length / itemsPerPage);
            
            // تهيئة واجهة المستخدم
            function initializeUI() {
                // إنشاء خيارات السور في القائمة المنسدلة
                suraSelect.innerHTML = '';
                suras.forEach(sura => {
                    const option = document.createElement('option');
                    option.value = sura.number;
                    option.textContent = `${sura.number}. ${sura.name} (${sura.verses} آية)`;
                    suraSelect.appendChild(option);
                });
                suraSelect.value = currentSura.number;
                
                // إنشاء أزرار التصفح بين صفحات السور
                createPaginationButtons();
                
                // عرض السور للصفحة الحالية
                showSuraPage(currentPage);
                
                // إنشاء بطاقات القراء
                recitersGrid.innerHTML = '';
                reciters.forEach(reciter => {
                    const card = document.createElement('div');
                    card.className = 'reciter-card';
                    if (reciter.id === currentReciter.id) {
                        card.classList.add('active');
                    }
                    
                    card.innerHTML = `
                        <div class="reciter-name">${reciter.name}</div>
                        <div class="reciter-style">${reciter.style}</div>
                        <div style="margin-top: 10px; font-size: 0.8rem; color: #888;">
                            <i class="fas fa-volume-up"></i> اضغط للتشغيل بهذا الصوت
                        </div>
                    `;
                    
                    card.addEventListener('click', () => {
                        selectReciter(reciter.id);
                    });
                    
                    recitersGrid.appendChild(card);
                });
                
                // تحديث المصدر الصوتي الأول
                updateAudioSource();
            }
            
            // إنشاء أزرار التصفح بين صفحات السور
            function createPaginationButtons() {
                suraPagination.innerHTML = '';
                
                for (let i = 1; i <= totalPages; i++) {
                    const button = document.createElement('button');
                    button.className = 'page-btn';
                    if (i === currentPage) {
                        button.classList.add('active');
                    }
                    button.textContent = i;
                    button.dataset.page = i;
                    
                    button.addEventListener('click', () => {
                        currentPage = i;
                        showSuraPage(currentPage);
                        updatePaginationButtons();
                    });
                    
                    suraPagination.appendChild(button);
                }
            }
            
            // تحديث أزرار التصفح
            function updatePaginationButtons() {
                document.querySelectorAll('.page-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (parseInt(btn.dataset.page) === currentPage) {
                        btn.classList.add('active');
                    }
                });
            }
            
            // عرض السور للصفحة المحددة
            function showSuraPage(page) {
                const startIndex = (page - 1) * itemsPerPage;
                const endIndex = Math.min(startIndex + itemsPerPage, suras.length);
                const pageSuras = suras.slice(startIndex, endIndex);
                
                suraButtonsContainer.innerHTML = '';
                pageSuras.forEach(sura => {
                    const button = document.createElement('button');
                    button.className = 'sura-btn';
                    if (sura.number === currentSura.number) {
                        button.classList.add('active');
                    }
                    button.textContent = sura.number;
                    button.dataset.suraNumber = sura.number;
                    button.title = `${sura.name} (${sura.verses} آية)`;
                    
                    button.addEventListener('click', () => {
                        selectSura(sura.number);
                    });
                    
                    suraButtonsContainer.appendChild(button);
                });
            }
            
            // تحديث مصدر الصوت بناءً على القارئ والسورة الحالية
            function updateAudioSource() {
                // إظهار رسالة التحميل
                audioLoadingElement.style.display = 'block';
                
                // إنشاء رابط everyayah.com
                // التنسيق: https://everyayah.com/data/القارئ/رقم_السورة_بثلاثة_أرقام.mp3
                // مثال: https://everyayah.com/data/Mishari_al-Afasy_64kbps/001.mp3
                
                const suraNumberFormatted = currentSura.number.toString().padStart(3, '0');
                const audioUrl = `https://everyayah.com/data/${currentReciter.code}/${suraNumberFormatted}.mp3`;
                
                console.log(`جار تحميل الصوت من: ${audioUrl}`);
                
                // تحديث رابط الصوت
                audioPlayer.src = audioUrl;
                
                // تحديث عرض المعلومات الحالية
                currentPlayingElement.innerHTML = `
                    <div class="current-sura">${currentSura.number}. ${currentSura.name}</div>
                    <div class="current-reciter">${currentReciter.name}</div>
                    <div id="audio-loading" class="loading">
                        <i class="fas fa-spinner fa-spin"></i> جار تحميل الصوت...
                    </div>
                `;
                
                // محاولة تحميل الصوت
                audioPlayer.load();
                
                // إعادة تعيين شريط التقدم
                progressBar.style.width = '0%';
                currentTimeDisplay.textContent = '0:00';
                durationDisplay.textContent = '0:00';
            }
            
            // اختيار سورة
            function selectSura(suraNumber) {
                currentSura = suras.find(s => s.number === suraNumber);
                
                // تحديث القائمة المنسدلة
                suraSelect.value = suraNumber;
                
                // تحديث الأزرار النشطة في الصفحة الحالية
                document.querySelectorAll('.sura-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if (parseInt(btn.dataset.suraNumber) === suraNumber) {
                        btn.classList.add('active');
                    }
                });
                
                // تحديث مصدر الصوت
                updateAudioSource();
            }
            
            // اختيار قارئ
            function selectReciter(reciterId) {
                currentReciter = reciters.find(r => r.id === reciterId);
                
                // تحديث البطاقات النشطة
                document.querySelectorAll('.reciter-card').forEach(card => {
                    card.classList.remove('active');
                });
                
                document.querySelectorAll('.reciter-card').forEach((card, index) => {
                    if (reciters[index].id === reciterId) {
                        card.classList.add('active');
                    }
                });
                
                // تحديث مصدر الصوت
                updateAudioSource();
            }
            
            // تحديث شريط التقدم
            function updateProgress() {
                if (audioPlayer.duration) {
                    const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
                    progressBar.style.width = `${percent}%`;
                    
                    // تحديث الوقت
                    currentTimeDisplay.textContent = formatTime(audioPlayer.currentTime);
                    durationDisplay.textContent = formatTime(audioPlayer.duration);
                }
            }
            
            // تنسيق الوقت (دقائق:ثواني)
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            }
            
            // معالجة الأحداث
            suraSelect.addEventListener('change', function() {
                selectSura(parseInt(this.value));
            });
            
            playBtn.addEventListener('click', function() {
                audioPlayer.play();
            });
            
            pauseBtn.addEventListener('click', function() {
                audioPlayer.pause();
            });
            
            stopBtn.addEventListener('click', function() {
                audioPlayer.pause();
                audioPlayer.currentTime = 0;
                progressBar.style.width = '0%';
                currentTimeDisplay.textContent = '0:00';
            });
            
            // عند بدء تحميل الصوت
            audioPlayer.addEventListener('loadstart', function() {
                console.log('بدأ تحميل الصوت...');
            });
            
            // عند توفر بيانات الصوت
            audioPlayer.addEventListener('loadeddata', function() {
                console.log('تم تحميل بيانات الصوت');
                audioLoadingElement.style.display = 'none';
            });
            
            // عند إمكانية التشغيل
            audioPlayer.addEventListener('canplay', function() {
                console.log('الصوت جاهز للتشغيل');
                audioLoadingElement.style.display = 'none';
                
                // تحديث عرض المعلومات الحالية
                currentPlayingElement.innerHTML = `
                    <div class="current-sura">${currentSura.number}. ${currentSura.name}</div>
                    <div class="current-reciter">${currentReciter.name}</div>
                    <div style="margin-top: 10px; font-size: 0.9rem; opacity: 0.8;">
                        <i class="fas fa-check-circle"></i> جاهز للاستماع
                    </div>
                `;
            });
            
            // عند حدوث خطأ
            audioPlayer.addEventListener('error', function(e) {
                console.error('حدث خطأ في تحميل الصوت:', e);
                audioLoadingElement.style.display = 'none';
                
                // تحديث عرض المعلومات الحالية مع رسالة خطأ
                currentPlayingElement.innerHTML = `
                    <div class="current-sura">${currentSura.number}. ${currentSura.name}</div>
                    <div class="current-reciter">${currentReciter.name}</div>
                    <div class="warning" style="margin-top: 10px; font-size: 0.9rem;">
                        <i class="fas fa-exclamation-triangle"></i> تعذر تحميل الصوت. جرب قارئًا آخر.
                    </div>
                `;
            });
            
            audioPlayer.addEventListener('timeupdate', updateProgress);
            
            audioPlayer.addEventListener('loadedmetadata', function() {
                durationDisplay.textContent = formatTime(audioPlayer.duration);
            });
            
            // النقر على شريط التقدم لتغيير الوقت
            const progressContainer = document.querySelector('.progress-bar');
            progressContainer.addEventListener('click', function(e) {
                const width = this.clientWidth;
                const clickX = e.offsetX;
                const duration = audioPlayer.duration;
                
                if (duration) {
                    audioPlayer.currentTime = (clickX / width) * duration;
                }
            });
            
            // بدء التشغيل عند تحميل الصفحة
            initializeUI();
        });
    </script>
</body>
</html>
